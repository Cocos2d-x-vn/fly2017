{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "gameLogic",
    "require",
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "enermy",
    "default",
    "type",
    "Prefab",
    "enermyContainer",
    "Node",
    "time",
    "Label",
    "score",
    "life",
    "gameOverLabel",
    "onLoad",
    "manager",
    "director",
    "getCollisionManager",
    "enabled",
    "game",
    "init",
    "gameTime",
    "spwan",
    "gameOver",
    "start",
    "update",
    "dt",
    "isPlaying",
    "updateTime",
    "updateScore",
    "updateLife",
    "inst",
    "instantiate",
    "getComponent",
    "parent",
    "setPosition",
    "Math",
    "random",
    "setSpeed",
    "setLiveLimit",
    "string",
    "getGameLeftTime",
    "toFixed",
    "getScore",
    "getLife"
  ],
  "mappings": ";;AAAA,IAAIA,YAAYC,QAAQ,WAAR,CAAhB;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACAC,gBAAQ;AACJC,qBAAS,IADL;AAEJC,kBAAMP,GAAGQ;AAFL,SAFA;;AAOR;AACAC,yBAAiB;AACbH,qBAAS,IADI;AAEbC,kBAAMP,GAAGU;AAFI,SART;;AAaR;AACAC,cAAM;AACFL,qBAAS,IADP;AAEFC,kBAAMP,GAAGY;AAFP,SAdE;;AAmBR;AACAC,eAAO;AACHP,qBAAS,IADN;AAEHC,kBAAMP,GAAGY;AAFN,SApBC;;AAyBR;AACAE,cAAM;AACFR,qBAAS,IADP;AAEFC,kBAAMP,GAAGY;AAFP,SA1BE;;AA+BR;AACAG,uBAAe;AACXT,qBAAS,IADE;AAEXC,kBAAMP,GAAGY;AAFE;AAhCP,KAHP;;AAyCL;AACAI,YAAQ,kBAAY;AAChB;AACA,YAAIC,UAAUjB,GAAGkB,QAAH,CAAYC,mBAAZ,EAAd;AACAF,gBAAQG,OAAR,GAAkB,IAAlB;;AAEA,YAAIC,OAAO,IAAX;AACA;AACAvB,kBAAUwB,IAAV;AACI;AACA,UAFJ;AAGI;AACA,SAJJ;AAKI;AACA,kBAASC,QAAT,EAAkB;AACdF,iBAAKG,KAAL,CAAWD,QAAX;AACH,SARL;AASI;AACA,oBAAU;AACNF,iBAAKI,QAAL;AACH,SAZL;AAcA;AACA3B,kBAAU4B,KAAV;AACH,KAjEI;;AAmEL;AACAC,YAAQ,gBAAUC,EAAV,EAAc;AAClB,YAAG,CAAC9B,UAAU+B,SAAV,EAAJ,EAA2B;;AAE3B/B,kBAAU6B,MAAV,CAAiBC,EAAjB;AACA,aAAKE,UAAL;AACA,aAAKC,WAAL;AACA,aAAKC,UAAL;AACH,KA3EI;;AA6EL;AACAR,WAAO,eAASD,QAAT,EAAkB;AACrB,YAAIU,OAAOjC,GAAGkC,WAAH,CAAe,KAAK7B,MAApB,CAAX;AACA,YAAIA,SAAS4B,KAAKE,YAAL,CAAkB,QAAlB,CAAb;AACAF,aAAKG,MAAL,GAAc,KAAK3B,eAAnB;AACA;AACAJ,eAAOgC,WAAP,CAAmBC,KAAKC,MAAL,KAAgB,GAAhB,GAAsB,GAAzC,EAA8CD,KAAKC,MAAL,KAAgB,GAAhB,GAAsB,GAApE;AACA;AACAlC,eAAOmC,QAAP,CAAgB,CAAhB,EAAmBF,KAAKC,MAAL,KAAgB,EAAhB,GAAqB,EAAxC;AACA;AACAlC,eAAOoC,YAAP,CAAoB,CAApB;AACH,KAxFI;;AA0FL;AACAX,gBAAY,sBAAU;AAClB,aAAKnB,IAAL,CAAU+B,MAAV,GAAmB,WAAW5C,UAAU6C,eAAV,GAA4BC,OAA5B,CAAoC,CAApC,CAA9B;AACH,KA7FI;;AA+FL;AACAb,iBAAa,uBAAU;AACnB,aAAKlB,KAAL,CAAW6B,MAAX,GAAoB,WAAW5C,UAAU+C,QAAV,EAA/B;AACH,KAlGI;;AAoGL;AACAb,gBAAY,sBAAU;AAClB,aAAKlB,IAAL,CAAU4B,MAAV,GAAmB,WAAW5C,UAAUgD,OAAV,EAA9B;AACH,KAvGI;;AAyGL;AACArB,cAAU,oBAAU;AAChB,aAAKK,UAAL;AACA,aAAKC,WAAL;AACA,aAAKC,UAAL;;AAEA,YAAGlC,UAAU6C,eAAV,MAA+B,CAAlC,EAAoC;AAChC,iBAAK5B,aAAL,CAAmB2B,MAAnB,GAA4B,iBAA5B;AACH,SAFD,MAEK;AACD,iBAAK3B,aAAL,CAAmB2B,MAAnB,GAA4B,iBAA5B;AACH;AACJ;;AApHI,CAAT",
  "file": "unknown",
  "sourcesContent": [
    "var gameLogic = require('GameLogic');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // 敌人预制件\n        enermy: {\n            default: null,\n            type: cc.Prefab\n        },\n\n        // 敌人容器\n        enermyContainer: {\n            default: null,\n            type: cc.Node\n        },\n\n        // 游戏时间\n        time: {\n            default: null,\n            type: cc.Label\n        },\n\n        // 游戏积分\n        score: {\n            default: null,\n            type: cc.Label\n        },\n\n        // 生命值\n        life: {\n            default: null,\n            type: cc.Label\n        },\n\n        // GameOver\n        gameOverLabel: {\n            default: null,\n            type: cc.Label\n        }\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        // 启用碰撞\n        var manager = cc.director.getCollisionManager();\n        manager.enabled = true;\n\n        var game = this;\n        // 初始化\n        gameLogic.init(\n            // 游戏时间\n            30,\n            // 最大生命值\n            3,\n            // 刷怪实现\n            function(gameTime){\n                game.spwan(gameTime);\n            },\n            // 结束游戏实现\n            function(){\n                game.gameOver();\n            }\n        );\n        // 启动游戏\n        gameLogic.start();\n    },\n\n    // called every frame, uncomment this function to activate update callback\n    update: function (dt) {\n        if(!gameLogic.isPlaying()) return;\n\n        gameLogic.update(dt);\n        this.updateTime();\n        this.updateScore();\n        this.updateLife();\n    },\n\n    // 刷怪具体实现\n    spwan: function(gameTime){\n        var inst = cc.instantiate(this.enermy);\n        var enermy = inst.getComponent('Enermy');\n        inst.parent = this.enermyContainer;\n        // 刷怪范围 x -350 ~ 350, y 700 ~ 800\n        enermy.setPosition(Math.random() * 700 - 350, Math.random() * 100 + 700);\n        // 速度 直线向下，y -5 ~ -30\n        enermy.setSpeed(0, Math.random() * 25 - 30);\n        // 生命周期 5s\n        enermy.setLiveLimit(5);\n    },\n\n    // 更新时间Label\n    updateTime: function(){\n        this.time.string = '剩余时间: ' + gameLogic.getGameLeftTime().toFixed(2);\n    }, \n\n    // 更新积分\n    updateScore: function(){\n        this.score.string = '当前积分: ' + gameLogic.getScore();\n    },\n    \n    // 更新生命\n    updateLife: function(){\n        this.life.string = '当前生命: ' + gameLogic.getLife();\n    },\n\n    // 游戏结束具体实现\n    gameOver: function(){\n        this.updateTime();\n        this.updateScore();\n        this.updateLife();\n\n        if(gameLogic.getGameLeftTime() <= 0){\n            this.gameOverLabel.string = 'You Win!\\n骚年可以的';\n        }else{\n            this.gameOverLabel.string = 'Game Over!\\n太菜了';\n        }\n    }\n\n});\n"
  ]
}